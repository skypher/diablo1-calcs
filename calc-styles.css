/* Shared styles for Diablo calculators */
/* Original styling from Ghast's Grotto */

body {
    background-color: #2d2d2d;
    font-family: Arial, sans-serif;
}

a:link {
    text-decoration: none;
    color: #ffffff;
}
a:visited {
    text-decoration: none;
    color: #ffffff;
}
a:hover {
    background: none;
    color: #ff8000;
}

table.blog {
    background-color: #111111;
    padding: .3em;
    color: #bca86c;
}
table.char {
    background: url("images/stone.webp") repeat fixed top;
    color: #ffffff;
    border-collapse: collapse;
}
table.char input {
    background-color: #111111;
    color: #ffffff;
    border-color: #bca86c;
}
table.hidden {
    display: none;
}
table.sub {
    border-collapse: collapse;
}

.magic {
    color: #a0a5c8
}
.norm {
    color: #ffffff;
}
.fire {
    color: #e16c6c;
}
.title {
    font-size: 1.5em;
    text-align: left;
    color: #ffffff;
}
.title2 {
    color: #a0a5c8;
    font-size: 1.2em;
}
.warn {
    font-size: .8em;
    font-style: italic;
    color: #bca86c;
}

textarea {
    background-color: #111111;
    border-color: #5f5f5f;
    color: #a0a5c8;
    border: none;
    overflow: auto;
    resize: none;
}
input {
    background-color: #111111;
    color: #ffffff;
}
select {
    background-color: #111111;
    color: #a0a5c8;
}
button {
    background-color: #111111;
    color: #ffffff;
}

.field-label {
    display: inline-block;
    margin-right: 6px;
    color: #bca86c;
    font-size: 0.9em;
    vertical-align: middle;
}

/* Life/Mana calculator: make 4-column rows wrap gracefully on tablets */
@media (max-width: 900px) {
    body.life-mana table.blog {
        width: 100%;
        box-sizing: border-box;
    }

    body.life-mana table.blog tr {
        display: flex;
        flex-wrap: wrap;
        gap: 10px 12px;
        align-items: center;
    }

    body.life-mana table.blog td {
        flex: 1 1 200px;
        min-width: 140px;
        padding-right: 6px;
    }

    body.life-mana table.blog td[colspan="3"],
    body.life-mana table.blog td[colspan="4"] {
        flex: 1 1 100%;
    }

    body.life-mana table.blog input[type="text"],
    body.life-mana table.blog select,
    body.life-mana table.blog textarea {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }

    body.life-mana table.blog .action-row {
        gap: 8px;
    }

    body.life-mana table.blog .action-row td {
        flex: 1 1 100%;
    }

    body.life-mana table.blog .action-row input[type="button"],
    body.life-mana table.blog .action-row input[type="reset"] {
        width: 48%;
        min-width: 120px;
    }
}

/* Premium item checker: wrap the first control row cleanly on narrow widths */
@media (max-width: 900px) {
    body.premium-checker table.sub .control-row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px 12px;
    }

    body.premium-checker table.sub .control-row td {
        display: flex;
        align-items: center;
        gap: 8px;
        flex: 1 1 220px;
        min-width: 180px;
    }

    body.premium-checker table.sub .control-row .field-label {
        width: auto;
        min-width: 0;
        margin-right: 6px;
        text-align: left;
    }

    body.premium-checker table.sub .control-row select,
    body.premium-checker table.sub .control-row input[type="reset"] {
        width: 100%;
        box-sizing: border-box;
    }
}

/* Mobile / tablet responsive styles */
@media (max-width: 800px) {
    body {
        padding: 8px 6px;
        margin: 0;
    }

    table.blog {
        width: 100%;
        box-sizing: border-box;
    }

    table.blog > tbody > tr > td {
        display: block;
        width: 100%;
        box-sizing: border-box;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding: 10px 6px;
    }

    /* Give the large result grids breathing room and allow sideways scroll instead of clipping */
    table[id^="Max"],
    table[id^="Enemy"] {
        min-width: 360px;
    }

    table.sub {
        width: 100%;
        min-width: 0;
        display: table;
        border-collapse: collapse;
    }

    table.sub tr {
        display: table-row;
    }

    table.sub td {
        min-width: 0;
        white-space: normal;
        padding-right: 12px;
    }

    table.char {
        width: 100%;
        min-width: 0;
        margin-top: 15px;
    }

    textarea {
        width: 100% !important;
        max-width: 100%;
        box-sizing: border-box;
    }

    select {
        max-width: 100%;
        box-sizing: border-box;
    }

    input[type="text"],
    input[type="button"],
    input[type="reset"] {
        max-width: 100%;
        box-sizing: border-box;
    }

    .title {
        font-size: 1.1em;
        display: block;
        margin-bottom: 5px;
    }

    .title2 {
        font-size: 1em;
    }

    /* Stack form elements vertically */
    form {
        width: 100%;
        padding: 0 5px;
        box-sizing: border-box;
    }

    /* Allow horizontal scroll for wide legacy tables instead of hiding content */
    center {
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 12px;
        display: block;
    }
}

/* Re-apply flex sizing for life/mana rows after the general 800px stacking rule */
@media (max-width: 800px) {
    body.life-mana table.blog > tbody > tr > td {
        width: auto;
        padding: 8px 6px;
        flex: 1 1 200px;
    }
}

/* Extra small phones: stack form rows to fit ~350px */
@media (max-width: 500px) {
    table.sub {
        display: block;
        width: 100%;
    }

    table.sub tr {
        display: block;
    }

    table.sub td {
        display: flex;
        align-items: center;
        gap: 8px;
        width: 100%;
        padding: 6px 0;
        white-space: normal;
    }

    .field-label {
        flex-shrink: 0;
        width: 70px;
        min-width: 70px;
        text-align: right;
        margin-right: 10px;
    }

    table.sub select,
    table.sub input[type="text"],
    table.sub input[type="button"],
    table.sub input[type="reset"],
    table.sub textarea {
        flex: 1;
        min-width: 0;
        max-width: 100%;
    }
}
